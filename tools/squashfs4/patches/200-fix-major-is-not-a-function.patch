--- a/squashfs-tools/mksquashfs.c
+++ b/squashfs-tools/mksquashfs.c
@@ -37,6 +37,7 @@
 #endif
 #include <sys/types.h>
 #include <sys/stat.h>
+#include <sys/sysmacros.h>
 #include <fcntl.h>
 #include <errno.h>
 #include <dirent.h>
--- a/squashfs-tools/unsquashfs.c
+++ b/squashfs-tools/unsquashfs.c
@@ -29,6 +29,7 @@
 #include "compressor.h"
 #include "xattr.h"
 
+#include <sys/sysmacros.h>
 #include <sys/types.h>
 
 struct cache *fragment_cache, *data_cache;
